## JavaScript

### Remove array duplicates

```javascript
const arr = [1, 1, 2, 3, 5, 8];

[...new Set(arr)]; // [1, 2, 3, 5, 8]
```

### Shuffle array

```javascript
const shuffle = array =>
  array
    .map(a => ({ sort: Math.random(), value: a }))
    .sort((a, b) => a.sort - b.sort)
    .map(a => a.value);
```

### Hyphenize a string (slug)

```javascript
const hyphenize = string => string.replace(/\s+/g, '-').toLowerCase();
```

### Capitalize a string

```javascript
const capitalize = string => string.charAt(0).toUpperCase() + string.slice(1);
```

### Remove object property using the rest operator

```javascript
const data = { a: 1, b: 2, c: 3 };

const { a, ...rest } = data;

console.log(a); // 1
console.log(rest); // { b: 2, c: 3 }
```

### Swap two variables

```javascript
let a = 10;
let b = 20;

[a, b] = [b, a];
```

### Format a date

```javascript
const formatDate = (
  date,
  locale = 'en-GB',
  options = {
    weekday: undefined,
    year: 'numeric',
    month: 'long',
    day: 'numeric',
  },
) => date.toLocaleDateString(locale, options);
```

### Add classes

```javascript
const classNames = (...args) => args.filter(Boolean).join(' ');
```

### Order an Amazon wish list by price drop percentage

```javascript
(function () {
  const items = [];

  document.querySelectorAll('div[id^="itemInfo"]').forEach(el => {
    const linkedName = el.querySelector('a[id^="itemName"]');
    const name = linkedName.textContent.trim();
    const url = linkedName.href;
    const price = parseFloat(
      el
        .querySelector('span[id^="itemPrice"] .a-offscreen')
        .textContent.replace(/\$/g, ''),
    );

    let priceDropPctg;
    const priceDropEl = el.querySelector('span[id^="itemPriceDrop"]');

    if (priceDropEl) {
      const priceDropContent = priceDropEl.textContent;

      if (priceDropContent.includes('%')) {
        priceDropPctg = parseInt(
          priceDropContent.replace(/price dropped /i, '').replace('%', ''),
        );
      } else if (priceDropContent.includes('$')) {
        priceDropPctg = 0;
      }
    } else {
      priceDropPctg = 0;
    }

    items.push({ name, url, price, priceDropPctg });
  });

  const result = items.sort((a, b) => b.priceDropPctg - a.priceDropPctg);

  console.table(result);
})();
```
